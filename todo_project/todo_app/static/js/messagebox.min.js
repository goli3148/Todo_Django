!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).MessageBox=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports=class{constructor(){this.Colors={blue:"#3992D0",red:"#E74C3C",green:"#2ECC71",cyan:"#00CFC8",purple:"#6742D1"},this.message="",this.title="",this.buttons=[],this.askingFor="button",this.setTitle=title=>(this.title=title,this),this.setMessage=message=>(this.message=message,this),this.addButton=(text,color="blue")=>(this.buttons.push({text:text,color:this.Colors[color]||color}),this),this.askForFile=(multiple=!1,accept=null)=>(this.askingFor="file",this.multipleFiles=multiple,this.accept=accept,this),this.askForInput=(placeholder="",charLimit=null)=>(this.askingFor="input",this.placeholder=placeholder,this.charLimit=charLimit,this),this.show=()=>new Promise(resolve=>{"file"===this.askingFor?this.buttons=[{text:"Cancel",color:"red"},{text:"Select",color:"green"}]:"input"===this.askingFor&&(this.buttons=[{text:"Cancel",color:"red"},{text:"OK",color:"green"}]);let boxContainer=document.createElement("div"),box=(boxContainer.classList.add("message-box-container"),document.createElement("div")),title=(box.classList.add("message-box"),document.createElement("h1")),message=(title.classList.add("message-box-title"),title.innerText=this.title,document.createElement("p")),buttons=(message.classList.add("message-box-message"),message.innerText=this.message,document.createElement("div"));buttons.classList.add("message-box-buttons"),this.buttons.length<1&&this.addButton("OK"),this.buttons.forEach(button=>{let buttonElement=document.createElement("button");buttonElement.classList.add("message-box-button"),buttonElement.innerText=button.text,buttonElement.style.backgroundColor=button.color,buttonElement.addEventListener("click",()=>{boxContainer.remove(),"file"===this.askingFor?"Select"===button.text?(this.multipleFiles&&resolve(this.fileInput.files||null),resolve(this.fileInput.files[0]||null)):"Cancel"===button.text&&resolve(null):"input"===this.askingFor&&("OK"===button.text?resolve(this.input.value):resolve(null)),resolve(button.text)}),buttons.appendChild(buttonElement)}),"file"===this.askingFor?(this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.classList.add("message-box-file-input"),this.multipleFiles&&this.fileInput.setAttribute("multiple","multiple"),this.accept&&(this.fileInput.accept=this.accept),this.inputText=document.createElement("p"),this.inputText.textContent="Select or drop a file",this.dropZone=document.createElement("div"),this.dropZone.classList.add("message-box-drop-zone"),this.dropZone.onclick=()=>this.fileInput.click(),this.dropZone.ondrop=e=>{e.preventDefault(),e.stopPropagation(),this.accept&&Array.from(e.dataTransfer.files).some(file=>!((acceptedTypes,type)=>0<acceptedTypes.replace(/\s/g,"").split(",").filter(accept=>new RegExp(accept.replace(/\*/g,".*")).test(type)).length)(this.accept,file.type))?this.inputText.textContent="Invalid file format, accpeted formats are: "+this.accept:!this.multipleFiles&&1<e.dataTransfer.files.length?this.inputText.textContent="Only one file can be selected":(this.fileInput.files=e.dataTransfer.files,this.fileInput.oninput())},this.dropZone.ondragover=e=>{e.preventDefault(),e.stopPropagation()},this.fileInput.oninput=()=>{this.inputText.textContent=Array.from(this.fileInput.files).map(file=>file.name).join(", ")},this.dropZone.appendChild(this.inputText),this.dropZone.appendChild(this.fileInput)):"input"===this.askingFor&&(this.input=document.createElement("input"),this.input.classList.add("message-box-input"),this.input.placeholder=this.placeholder,this.charLimit&&(this.input.maxLength=this.charLimit)),box.appendChild(title),box.appendChild(message),"file"===this.askingFor?box.appendChild(this.dropZone):"input"===this.askingFor&&box.appendChild(this.input),box.appendChild(buttons),boxContainer.appendChild(box),document.body.appendChild(boxContainer)})}}},{}]},{},[1])(1)});
